<ion-content style="background:#f7f7f7;">

    <div ion-fixed class="bgdheader" style="width:100%;color:#fff; padding:10px;" >
      <table width="100%" border="0">
        <tr>
          <td style="width:20%;"> <div style="font-size:20px; margin-left:10px;" (click) = "openMenu();"> <img src="assets/img/menu_white.png" width="20px" height="20px"> </div> </td>
          <td style="width:45%; font-size:18px; text-align:center;">Profile</td>
          <td style="width:35%; text-align: right; padding-right:10px;">
            <span (click) = "themeSettings();"><img src="assets/img/brush.png" width="25px;" height="25px"></span> &nbsp; &nbsp;                             
            <span (click) = "logout();" ><img src="assets/img/logout.png" width="25px" height="25px"></span>
          </td>
        </tr>
      </table>
    </div>
  
    <div class="bgdheader" style="height:145px; width:100%; margin-top:33px;"></div>
  
    <div style="margin-left:15px; background:#fff; margin-top:-78px; margin-right:15px; text-align:center; border:1px solid #ddd; border-radius:7px;">
      <div style="margin-top:-45px; ">
        <img src="{{ photo }}" (click)="uploadUserProfilePhoto();" width="90px" height="90px" style="border-radius:50%;">
      </div>

      <div style="margin-top:10px;"><b>{{ dataProfile?.fullname }}</b></div>
      <div style="padding-bottom:5px; font-size: 12px;">@ {{ dataProfile?.mobile }}</div>

      <div style="padding-top:10px; padding-bottom:7px;">
        <table width="100%">
          <tr>
            <td width="50%">
              <div>
                <div style="font-size:16px;">{{ dataProfile?.totalCoins }}</div>
                <div style="color:#969FAA; font-size:12px;">COINS</div>                
              </div>
            </td>

            <td width="50%">
              <div>
                <div style="font-size:16px;">{{ dataProfile?.currentLevel }}</div>
                <div style="color:#969FAA; font-size:12px;">TOTAL LEVELS</div>                
              </div>
            </td>          
          </tr>
        </table>
      </div>
  
      <div style="text-align:center; margin-left:15px; margin-right:15px;">
        <table width="100%" style="border-top:1px solid #ddd;">
          <tr>
            <td style="width:25%">
              <div (click)="goToPage('ProfilePage');" style="font-size:20px; margin-top:5px; margin-bottom:5px; border-right:1px solid #dddddd;" ><img src="assets/img/profile_user.png" width="35px" height="35px"></div>
            </td>
            <td style="width:25%">
              <div style="font-size:20px; margin-top:5px; margin-bottom:5px; border-right:1px solid #ddd;" ><img src="assets/img/trans_history.png" width="30px" height="30px"></div>              
            </td>
            <td style="width:25%">
              <div (click)="goToPage('ProfileSubscriptionPage');" style="font-size:20px; margin-top:5px; margin-bottom:5px; border-right:1px solid #ddd;" ><img src="assets/img/subsc_history.png" width="21px" height="22px"></div>              
            </td>
            <td style="width:25%">
              <div (click)="goToPage('ProfileInviteListPage');" style="font-size:20px; margin-top:5px; margin-bottom:5px;" ><img src="assets/img/invite_friend.png" width="25px" height="25px"></div>              
            </td>                                    
          </tr>
        </table>
      </div>
  
    </div>


    <!-- TRANSACTIONAL HISTORY -->

    <div style="margin-top:10px; margin-left:15px; margin-right:15px; margin-bottom: 10px; " >
      <div>
        <div style="background:#ffffff; border-radius:7px; ">

          <div style="padding:10px; ">TRANSACTION HISTORY <span style="float:right;"><img src="assets/img/trans_menu.png" width="15px" height="12px"></span></div>

          <div *ngIf="transactionListLength">
          <div *ngFor = "let key of keys">
          <div style="background:#f7f7f7; font-size:13px; padding:10px;">{{ key }}</div>
          <div *ngFor = "let s_key of transactionList[key]" style="padding:10px; border-bottom:1px solid #eeeeee;">
            <table width="100%" border="0">
              <tr>
                <td width="12%">

                  <div *ngIf="s_key.transType == 'DAILY LOGIN'"><img src="assets/img/daily_login.png" width="20px" height="20px"></div>
                  <div *ngIf="s_key.transType == 'REGISTRATION COINS'"><img src="assets/img/coin.png" width="20px" height="20px"></div>
                  <div *ngIf="s_key.transType == 'INVITE JOIN'"><img src="assets/img/download.png" width="20px" height="20px"></div>
                  <div *ngIf="s_key.transType == 'ADMIN CREDIT'"><img src="assets/img/up_arrow.png" width="20px" height="20px"></div>
                  <div *ngIf="s_key.transType == 'ADMIN DEBIT'"><img src="assets/img/down_arrow.png" width="20px" height="20px"></div>
                  
                </td>
                <td width="68%">
                  <div>{{ s_key.transRemark }}</div>
                  <div style="color:#969FAA; font-size:11px;">{{ s_key.transTime }}</div>
                </td>
                <td width="20%">
                  <div *ngIf="s_key.creditCoins != 0 " style="font-size:20px; text-align:right; "><b>{{ s_key.creditCoins }}</b> <img src="assets/img/up_arrow.png" width="15px" height="18px"></div>
                  <div *ngIf="s_key.debitCoins != 0 " style="font-size:20px; text-align:right; "><b>{{ s_key.debitCoins }}</b> <img src="assets/img/down_arrow.png" width="15px" height="18px"></div>                  
                </td>                
              </tr>
            </table>
          </div>
          </div>
          </div>

          <div *ngIf="!transactionListLength" style="text-align: center; color:#d50000; padding-top:50px; padding-bottom:50px; font-size:16px; "><b>No Transaction History</b></div>

        </div>
      </div>
    </div>

  </ion-content>